# Definir el directorio de trabajo
# IMPORTANTE: cambiar por su ruta específica
# setwd("path")
setwd("C:\\Users\\sergio.barona\\Desktop\\SpatialData-Workshop\\")
# cargar librerías
library(tidyverse)  # ggplot2, dplyr y otras herramientas
library(sf)         # Lectura y manejo de datos vectoriales
library(readxl)     # Para leer archivos de Excel
# Definir el directorio de trabajo
# IMPORTANTE: cambiar por su ruta específica
# setwd("path")
setwd("C:\\Users\\sergio.barona\\Desktop\\SpatialData-Workshop\\")
# Puntos
pt1 <- st_point(c(1, 1))
pt2 <- st_point(c(2, 3))
# Conjunto de puntos
mp  <- st_multipoint(rbind(c(4, 2), c(5, 3), c(4.5, 2.5), c(5.5, 2.2)))
# Polígono
poly <- st_polygon(list(rbind(c(7, 1), c(9, 1), c(8, 3), c(7, 1))))
# Línea
line <- st_linestring(rbind(c(3, 0.5), c(3.5, 2), c(5, 1.5)))
# Agrupar las geometrías en una columna (sfc)
geoms <- st_sfc(pt1, pt2, mp, poly, line)
# Crear atributos asociados a cada geometría
df <- data.frame(
name = c("Alpha", "Beta", "Gamma", "Delta", "Epsilon"),
type = c("Single Point", "Single Point", "MultiPoint", "Polygon", "Line"),
value = c(10, 20, 30, 40, 50)
)
# Combinar atributos y geometrías en un objeto sf
sf_obj <- st_sf(df, geometry = geoms)
# Visualizar con la función base
plot(st_geometry(sf_obj),
col = c("red", "red", "blue", "green", "purple"),
pch = 16,
lwd = 2,
main = "Diferentes tipos de geometrías")
# Shapefile con datos de NBI por departamento
dpto.nbi = st_read(dsn = "C:\\Users\\sergio.barona\\Desktop\\SpatialData-Workshop\\vector_data\\nbi_dptos\\",
layer = "dptoscol_nbi_cnpv2018")
dpto.nbi
dpto.nbi %>% select(ID_ESPA, AREA_OF, cod, dpto, tasa_nb, geometry)
# Puntos
pt1 <- st_point(c(1, 1))
pt1
# Polígono
poly <- st_polygon(list(rbind(c(7, 1), c(9, 1), c(8, 3), c(7, 1))))
poly
st_geometry(dpto.nbi)
class(st_geometry(dpto.nbi))
